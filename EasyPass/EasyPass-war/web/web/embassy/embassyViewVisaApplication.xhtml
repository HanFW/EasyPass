<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/embassyTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">
        <h:form>
            <p:tabView>
                <p:tab title="Application Result">
                    <center>
                        <p:outputLabel value="Decision: "/>
                        <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visaStatus.state}"/>
                        <br/>
                        <p:panel style="height: 100px; border: none;" rendered="#{!embassyViewVisaApplicationManagedBean.hasVisa}">
                            <p:outputLabel value="Message: "/>
                            <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visaStatus.message}"/>
                        </p:panel>
                        <p:panel style="height: 100px; border: none;" rendered="#{embassyViewVisaApplicationManagedBean.hasVisa}">
                            <p:outputLabel value="Visa Type: "/>
                            <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visa.visaType}"/>
                            <br/>
                            <p:outputLabel value="Issue date: "/>
                            <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visa.visaIssueDate}"/>
                            <br/>
                            <p:outputLabel value="Valid Util: "/>
                            <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visa.visaValidTill}"/>
                        </p:panel>
                    </center>
                </p:tab>
                <p:tab title="Application Information">
                    <p:accordionPanel multiple="true">
                        <p:tab title="Basic Information">
                            <p:panelGrid columns="4">
                                <p:outputLabel value="First name: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.firstName}"/>
                                <p:outputLabel value="Last name: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.lastName}"/>

                                <p:outputLabel value="Sex: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.sex}"/>
                                <p:outputLabel value="Date of birth: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.birthday}"/>

                                <p:outputLabel value="Nationality: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.nationality}"/>
                                <p:outputLabel value="Country of residence: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.countryOfResidence}"/>

                                <p:outputLabel value="Identity number: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.identityNumber}"/>
                                <p:outputLabel value="Marital status: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.maritalStatus}"/>

                                <p:outputLabel value="Residential address: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.basicInfo.residentialAddress}"/>
                            </p:panelGrid>
                        </p:tab>
                        <p:tab title="Plan of Visit">
                            <p:panelGrid columns="4">
                                <p:outputLabel value="Planned date of arrival: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visaApplication.startDate}"/>
                                <p:outputLabel value="Planned date of departure: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visaApplication.endDate}"/>

                                <p:outputLabel value="Name of local contact: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.localContact.contactName}"/>
                                <p:outputLabel value="Identify number of local contact:  "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.localContact.identityNumber}"/>

                                <p:outputLabel value="Purpose of visit: "/>
                                <p:outputLabel value="#{embassyViewVisaApplicationManagedBean.visaApplication.purposeOfVisit}"/>
                            </p:panelGrid>
                        </p:tab>
                    </p:accordionPanel>
                </p:tab>

                <p:tab title="Documents">
                    <p:accordionPanel multiple="true">
                        <p:tab title="Bank Statement">
                            <p:media value="#{embassyViewVisaApplicationManagedBean.bankStatement.bankStatementImageURL}" width="100%" height="300px"/>  
                        </p:tab>
                        <p:tab title="Accommodation Reference">
                            <p:media value="#{embassyViewVisaApplicationManagedBean.accommodation.accommodationImageURL}" width="100%" height="300px"/>  
                        </p:tab>
                        <p:tab title="Transportation Reference">
                            <p:media value="#{embassyViewVisaApplicationManagedBean.transportation.transportationReferenceImageURL}" width="100%" height="300px"/>  
                        </p:tab>
                        <p:tab title="Insurance Document">
                            <p:media value="#{embassyViewVisaApplicationManagedBean.insurance.insuranceContractImageURL}" width="100%" height="300px"/>  
                        </p:tab>
                    </p:accordionPanel>
                </p:tab>
            </p:tabView>
        </h:form>
    </ui:define>

</ui:composition>
